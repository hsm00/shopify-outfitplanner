<div id="outfit-container">
  <div id="outfit-details">
    <h2>Outfit Details</h2>
    <p>Name: <span id="outfit-name"></span></p>
    <p>Description: <span id="outfit-description"></span></p>
  </div>
  <div id="outfit-items">
    <div class="outfit-item">
      <div class="item-image">
        <img id="hat-image" alt="Hat" width="100" height="100">
        <h3>Hat</h3>
      </div>
      <p id="hat-name"></p>
    </div>
    <div class="outfit-item">
      <div class="item-image">
        <img id="top-image" alt="Top" width="100" height="100">
        <h3>Top</h3>
      </div>
      <p id="top-name"></p>
    </div>
    <div class="outfit-item">
      <div class="item-image">
        <img id="pants-image" alt="Pants" width="100" height="100">
        <h3>Pants</h3>
      </div>
      <p id="pants-name"></p>
    </div>
    <div class="outfit-item">
      <div class="item-image">
        <img id="accessories-image" alt="Accessories" width="100" height="100">
        <h3>Accessories</h3>
      </div>
      <p id="accessories-name"></p>
    </div>
    <div class="outfit-item">
      <div class="item-image">
        <img id="shoes-image" alt="Shoes" width="100" height="100">
        <h3>Shoes</h3>
      </div>
      <p id="shoes-name"></p>
    </div>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    fetch('https://{{ shop.domain }}/apps/outfitplaner-hesam/app/outfit', {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
        'X-Shopify-Access-Token': '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',
      }

    })
      .then(response => response.json())
      .then(data => {
        const outfitNameElement = document.getElementById('outfit-name');
        const outfitDescriptionElement = document.getElementById('outfit-description');
        const pantsImageElement = document.getElementById('pants-image');
        const pantsNameElement = document.getElementById('pants-name');
        const topImageElement = document.getElementById('top-image');
        const topNameElement = document.getElementById('top-name');
        const shoesImageElement = document.getElementById('shoes-image');
        const shoesNameElement = document.getElementById('shoes-name');
        const accessoriesImageElement = document.getElementById('accessories-image');
        const accessoriesNameElement = document.getElementById('accessories-name');

        outfitNameElement.textContent = data.name;
        outfitDescriptionElement.textContent = data.description;
        pantsImageElement.src = data.pants_image_url;
        pantsNameElement.textContent = data.pants_name;
        topImageElement.src = data.top_image_url;
        topNameElement.textContent = data.top_name;
        shoesImageElement.src = data.shoes_image_url;
        shoesNameElement.textContent = data.shoes_name;
        accessoriesImageElement.src = data.accessories_image_url;
        accessoriesNameElement.textContent = data.accessories_name;
      })
      .catch(error => {
        console.error('Error:', error);
      });
  });
</script>

<style>
  #outfit-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
  }

  #outfit-details {
    flex-basis: 30%;
    background-color: #f5f5f5;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  }

  #outfit-items {
    flex-basis: 65%;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-gap: 20px;
  }

  .outfit-item {
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .item-image {
    width: 100%;
    height: 300px;
    overflow: hidden;
    border-radius: 10px;
  }

  .item-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .outfit-item h3 {
    margin-top: 10px;
    font-size: 18px;
  }

  #hat-image {
    order: 1;
  }

  #hat-name {
    order: 2;
  }

  #top-image {
    order: 3;
  }

  #top-name {
    order: 4;
  }

  #pants-image {
    order: 5;
  }

  #pants-name {
    order: 6;
  }

  #accessories-image {
    order: 7;
  }

  #accessories-name {
    order: 8;
  }

  #shoes-image {
    order: 9;
  }

  #shoes-name {
    order: 10;
  }
</style>

{% schema %}
{
  "name": "Outfit",
  "target": "section",
  "settings": [
    { "type": "product", "id": "product", "label": "product", "autofill": true },
    { "type": "color", "id": "colour", "label": "Star Colour", "default": "#ff0000" }
  ]
}
{% endschema %}

